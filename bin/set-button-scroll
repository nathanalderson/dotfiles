#!/bin/bash

DEVICE_NAME="pointer:Logitech MX Ergo"

case "$1" in
  on)
    xinput set-prop "$DEVICE_NAME" "libinput Scroll Method Enabled" 0 0 1
    ;;
  off)
    xinput set-prop "$DEVICE_NAME" "libinput Scroll Method Enabled" 0 0 0
    ;;
  toggle)
    if [[ $(xinput list-props "$DEVICE_NAME" | grep "libinput Scroll Method Enabled (" | grep -o "1$") ]]; then
      echo "Disabling button scrolling"
      xinput set-prop "$DEVICE_NAME" "libinput Scroll Method Enabled" 0 0 0
    else
      echo "Enabling button scrolling"
      xinput set-prop "$DEVICE_NAME" "libinput Scroll Method Enabled" 0 0 1
    fi
    ;;
  *)
    echo "Usage: $0 [on|off|toggle]"
    exit 1
    ;;
esac
